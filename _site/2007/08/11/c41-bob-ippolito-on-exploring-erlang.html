<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="The online writing of Alex Payne" name="description">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.0/css/bulma.min.css" type="text/css">
  <link rel="stylesheet" href="/css/screen.css" type="text/css">
  <link rel="alternate" type="application/atom+xml" title="Alex Payne" href="/atom.xml">
  <link rel="canonical" href="http://localhost:3000/2007/08/11/c41-bob-ippolito-on-exploring-erlang.html"/>
  <script src="/js/helpers.js"></script>
  <title>Alex Payne &mdash; C4[1]: Bob Ippolito on Exploring Erlang</title>
<script src="http://127.0.0.1:35729/livereload.js"></script></head>

<body>
  <nav class="navbar is-dark" role="navigation" aria-label="main navigation">
  <div class="container">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">
        <tt><strong>3</strong></tt>
      </a>
      <button class="button navbar-burger" data-target="navMenu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div class="navbar-menu" id="navMenu">
      <div class="navbar-start">
        <a class="navbar-item" href="/">Home</a>
        <a href="/about.html" class="navbar-item" title="About the author and site">About</a>
        <a href="/archive.html" class="navbar-item" title="Archived writing">Archive</a>
        <a href="/publications.html" class="navbar-item" title="Publications">Publications</a>
        <a href="/events.html" class="navbar-item" title="Events">Events</a>
      </div>
      <div class="navbar-end">
      </div>
    </div>
  </div>
</nav>


  <section class="hero is-light">
  <div class="hero-body">
    <div class="container">
      <h1 class="title">Alex Payne</h1>
      <h2 class="subtitle">
        Writer, backer, erstwhile technologist.
      </h2>
    </div>
  </div>
</section>


  <section class="section main-section">
    <div class="container">
      <div class="columns is-desktop">
        <div class="column is-half is-offset-one-quarter">
          <div class="content">
            <div class="post">
  <h1 id="c41-bob-ippolito-on-exploring-erlang">C4[1]: Bob Ippolito on Exploring Erlang</h1>

<p>Speaker works for Mochi Media, which builds analytics tools for Flash developers, ad targeting systems, etc. Their applications have high concurrency needs.</p>

<h2 id="introduction">Introduction</h2>

<p>Erlang is a functional language that revolves around a “process” abstraction. The language has no mutable data structures; which apparently necessitates lots of linked lists. State exists solely in the stack, so backtraces are comprehensive. A common pattern is to use accumulators that make use of tail calls (calls to another function at the end of a function). Another language feature is pattern matching, which binds variables when patterns are matched.</p>

<h2 id="types">Types</h2>

<p>Two collection types are available: lists and tuples. Basic types include atoms (effectively a constant string, apparently quite fast to work with), binary (a contiguous chunk of bytes), integer (unbounded), float (64-bit), and ref (a unique reference across a cluster of nodes). Other data types include fun (anonymous functions, which are serialized and close over variables), pid (reference to a process, which can be on another node), port (reference to a driver, socket, pipe, and so on, much like a pid). There are no boolean, character, or string types; the above types meet these needs in various configurations.</p>

<h2 id="syntax">Syntax</h2>

<p>Variable start with a capital letter, and can only be assigned once (“single assignment”). Equivalency (=) is a simple form of pattern matching. Case statements can take advantage of pattern matching in more complex ways; an example of matching particular dates in given. Pattern matching is also ideal for working with file formats and a bits-and-bytes level; an example of checking for Flash files is shown. Expressions end in commas (delimit expressions), semicolons (delimits clauses), and periods (which end expressions or trigger evaluation in the shell). Anything that starts with a question mark is a compiler macro. Exclamation points mean “send a message to the left”.</p>

<h2 id="modules">Modules</h2>

<p>Modules exist in a flat namespace, and explicitly export “public” functions. Modules are referenced by name (which is an atom) and compiled to a .beam file. Erlang boasts hot code reloading, and modules take advantage of this. When declaring functions, arity (the number of variables the function takes) is noted. To compile all the modules in your project just do make:all([load]).</p>

<h2 id="processes">Processes</h2>

<p>Bob notes that Erlang processes are lightweight and fast, being neither native threads nor pthreads, but rather lightweight green threads. Processes communicate only with asynchronous messages, which they may selectively receive. Because there are no mutable variables, processes are where program state lives. Server processes are written in tail-recursive loops. Matching and logging unexpected messages is considered best practice; unhandled messages will pile up, which is effectively a memory leak.</p>

<h2 id="distributed">Distributed</h2>

<p>There’s little security between nodes; a shared secret cookie is standard. Language semantics are such that communication between nodes works just like local communication. Nodes may connect transitively. It’s fairly simple to start multiple nodes and add process monitoring. Erlang is designed around the idea that nodes will fail, and as such it’s easy to trap errors and restart nodes.</p>

<h2 id="otp">OTP</h2>

<p>Originally designed for high-availability telephony, OTP is now a way of designing fault-tolerant applications in Erlang. An OTP is a tree of supervisor processes which start, monitor, and restart child processes. Also available in OTP are behaviors, which are a kind of enforced inheritance. The example of gen_server and its conventions is shown.</p>

<h2 id="demo">Demo</h2>

<p>The presentation was being given from a simple Erlang-based web server, which Bob then load tests to varying degrees, demonstrating excellent performance. Bob mentions that the networking core of Erlang is multiplexed and takes advantage of the OS-level polling features (kqueue, etc.). Performance for their app has been excellent: millions of hits per day per server.</p>

<h2 id="questions">Questions</h2>

<p>The “Programming Erlang” book is “an extremely good resource,” says Bob.</p>

  <time class="is-pulled-right" datetime="2007-08-11">
    &mdash; August 11, 2007
  </time>
</div>

          </div>
        </div>
      </div>
    </div>
  </section>

  <footer class="footer">
  <div class="container">
    <div class="content">
      &copy; 2017 Alex Payne
      &middot;
      <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">CC BY-NC-ND</a>
    </div>
  </div>
</footer>

  
</body>

</html>
